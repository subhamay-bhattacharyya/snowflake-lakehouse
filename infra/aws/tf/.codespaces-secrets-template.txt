# Codespaces Secrets Template
# Copy these values to: Settings → Secrets and variables → Codespaces

# ============================================================================
# Snowflake Authentication (Key-Pair - Recommended)
# ============================================================================
# Copy from your GitHub Actions variables/secrets:

TF_VAR_snowflake_account
→ Copy from Actions variable: SNOWFLAKE_ACCOUNT
→ Example: AGXUOKJ-JKC15404

TF_VAR_snowflake_user
→ Copy from Actions variable: SNOWFLAKE_USER
→ Example: GH_ACTIONS_USER

TF_VAR_snowflake_private_key
→ Copy from Actions secret: SNOWFLAKE_PRIVATE_KEY
→ Format: Full PEM content including header/footer
→ Example:
-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC...
(multiple lines)
...
-----END PRIVATE KEY-----

TF_VAR_snowflake_role
→ New value (not in Actions)
→ Set to: SYSADMIN

# ============================================================================
# AWS Authentication
# ============================================================================

AWS_ACCESS_KEY_ID
→ Get from AWS IAM Console
→ Example: AKIAIOSFODNN7EXAMPLE

AWS_SECRET_ACCESS_KEY
→ Get from AWS IAM Console
→ Example: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

AWS_DEFAULT_REGION
→ Your AWS region
→ Example: us-east-1

# ============================================================================
# How to Set These Secrets
# ============================================================================

1. Go to your GitHub repository
2. Click: Settings → Secrets and variables → Codespaces
3. Click: New repository secret
4. Add each secret above with its name and value
5. Create a new Codespace (or restart existing one)

NOTE: GitHub will automatically convert secret names to UPPERCASE.
This is expected and will work correctly with Terraform.

Example:
  You type: TF_VAR_snowflake_account
  GitHub saves: TF_VAR_SNOWFLAKE_ACCOUNT
  Terraform reads: var.snowflake_account ✓

# ============================================================================
# Verification
# ============================================================================

After setting secrets, verify in your Codespace terminal:

cd infra/aws/tf
echo "Account: ${TF_VAR_snowflake_account:0:5}..."
echo "User: ${TF_VAR_snowflake_user}"
echo "Role: ${TF_VAR_snowflake_role}"
echo "AWS Region: ${AWS_DEFAULT_REGION}"

# ============================================================================
# Usage
# ============================================================================

terraform init
terraform plan
terraform apply
